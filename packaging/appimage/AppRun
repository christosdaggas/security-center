#!/bin/bash
# AppRun script for Security Center AppImage

APPDIR="$(dirname "$(readlink -f "$0")")"

# Set up environment
export PATH="${APPDIR}/usr/bin:${PATH}"
export LD_LIBRARY_PATH="${APPDIR}/usr/lib:${APPDIR}/usr/lib/x86_64-linux-gnu:${LD_LIBRARY_PATH}"
export XDG_DATA_DIRS="${APPDIR}/usr/share:${XDG_DATA_DIRS}"
export GDK_PIXBUF_MODULE_FILE="${APPDIR}/usr/lib/x86_64-linux-gnu/gdk-pixbuf-2.0/2.10.0/loaders.cache"
export GI_TYPELIB_PATH="${APPDIR}/usr/lib/x86_64-linux-gnu/girepository-1.0:${GI_TYPELIB_PATH}"
export GSETTINGS_SCHEMA_DIR="${APPDIR}/usr/share/glib-2.0/schemas:${GSETTINGS_SCHEMA_DIR}"

# GTK4 settings
export GTK_PATH="${APPDIR}/usr/lib/x86_64-linux-gnu/gtk-4.0"
export GTK_IM_MODULE_DIR="${APPDIR}/usr/lib/x86_64-linux-gnu/gtk-4.0/4.0.0/immodules"

# Run the application
exec "${APPDIR}/usr/bin/security-center" "$@"
